<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Ibon Martínez-Arranz">
  <link rel="canonical" href="https://github.com/imarranz/essential-guide-to-pandas/040_data_transformation.html">
  <link rel="shortcut icon" href="img/favicon.ico">
  <title>Data Transformation - Essential Guide to Pandas</title>
  <link rel="stylesheet" href="css/theme.css" />
  <link rel="stylesheet" href="css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Data Transformation";
    var mkdocs_page_input_path = "040_data_transformation.md";
    var mkdocs_page_url = "/imarranz/essential-guide-to-pandas/040_data_transformation.html";
  </script>
  
  <script src="js/jquery-2.1.1.min.js" defer></script>
  <script src="js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/bash.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> Essential Guide to Pandas</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="index.html">Essential Guide to Pandas</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Data Handling</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="010_data_loading.html">Data Loading</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="020_basic_data_inspection.html">Basic Data Inspection</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="030_data_cleaning.html">Data Cleaning</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="080_data_formatting_and_conversion.html">Data Formatting and Conversion</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="220_dealing_with_missing_data.html">Dealing with Missing Data</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Data Analysis</span></p>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="040_data_transformation.html">Data Transformation</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="050_data_visualization_integration.html">Data Visualization Integration</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="060_statistical_analysis.html">Statistical Analysis</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="090_advanced_data_transformation.html">Advanced Data Transformation</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="180_advanced_grouping_and_aggregation.html">Advanced Grouping and Aggregation</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="190_text_data_specific_operations.html">Text Data Specific Operations</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="200_working_with_json_and_xml.html">Working with JSON and XML</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Data Manipulation</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="070_indexing_and_selection.html">Indexing and Selection</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="130_multi-index_operations.html">Multi-Index Operations</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="230_data_reshaping.html">Data Reshaping</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="240_categorical_data_operations.html">Categorical Data Operations</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="250_advanced_indexing.html">Advanced Indexing</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Data Integration</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="100_handling_time_series_data.html">Handling Time Series</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="110_file_export.html">File Export</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="210_advanced_file_handling.html">Advanced File Handling</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="270_advanced_data_merging.html">Advanced Data Merging</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Quality Control</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="140_data_merging_techniques.html">Data Merging Techniques</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="150_dealing_with_duplicates.html">Dealing with Duplicates</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="160_custom_operations_with_apply.html">Custom Operations with Apply</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="170_integration_with_matplotlib_for_custom_plots.html">Integration with Matplotlib for Custom Plots</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="260_efficient_computations.html">Efficient Computations</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="280_data_quality_checks.html">Data Quality Checks</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="290_real_word_case_studies.html">Real-World Case Studies</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">Essential Guide to Pandas</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
        
          <li>Data Analysis &raquo;</li>
        
      
    
    <li>Data Transformation</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/imarranz/essential-guide-to-pandas/edit/master/docs/040_data_transformation.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
    <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
        <a href="050_data_visualization_integration.html" class="btn btn-neutral float-right" title="Data Visualization Integration">Next <span class="icon icon-circle-arrow-right"></span></a>
        <a href="220_dealing_with_missing_data.html" class="btn btn-neutral" title="Dealing with Missing Data"><span class="icon icon-circle-arrow-left"></span> Previous</a>
    </div>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="data_transformation">Data Transformation<a class="headerlink" href="#data_transformation" title="Permanent link">#</a></h1>
<p>Data transformation is a crucial step in preparing your dataset for analysis. Pandas provides powerful tools to transform, summarize, and combine data efficiently. This chapter covers key techniques such as applying functions, grouping and aggregating data, creating pivot tables, and merging or concatenating DataFrames.</p>
<h2 id="apply_function">Apply Function<a class="headerlink" href="#apply_function" title="Permanent link">#</a></h2>
<p>The <code>apply</code> function allows you to apply a custom function to the DataFrame elements. This method is extremely flexible and can be applied to a single column or the entire DataFrame. Here’s an example using <code>apply</code> on a single column to calculate the square of each value:</p>
<pre><code class="language-python">import pandas as pd

# Sample DataFrame
data = {'number': [1, 2, 3, 4, 5]}
df = pd.DataFrame(data)

# Applying a lambda function to square each value
df['squared'] = df['number'].apply(lambda x: x**2)
</code></pre>
<p>Result:</p>
<pre><code class="language-plaintext">   number  squared
0       1        1
1       2        4
2       3        9
3       4       16
4       5       25
</code></pre>
<h2 id="group_by_and_aggregate">Group By and Aggregate<a class="headerlink" href="#group_by_and_aggregate" title="Permanent link">#</a></h2>
<p>Grouping and aggregating data are essential for summarizing data. Here’s how you can group by one column and aggregate another column using <code>sum</code>:</p>
<pre><code class="language-python"># Sample DataFrame
data = {'group': ['A', 'A', 'B', 'B', 'C'],
        'value': [10, 15, 10, 20, 30]}
df = pd.DataFrame(data)

# Group by the 'group' column and sum the 'value' column
grouped_df = df.groupby('group').agg({'value': 'sum'})
</code></pre>
<p>Result:</p>
<pre><code class="language-plaintext">       value
group
A         25
B         30
C         30
</code></pre>
<h2 id="pivot_tables">Pivot Tables<a class="headerlink" href="#pivot_tables" title="Permanent link">#</a></h2>
<p>Pivot tables are used to summarize and reorganize data in a DataFrame. Here’s an example of creating a pivot table to find the mean values:</p>
<pre><code class="language-python"># Sample DataFrame
data = {'category': ['A', 'A', 'B', 'B', 'A'],
        'value': [100, 200, 300, 400, 150]}
df = pd.DataFrame(data)

# Creating a pivot table
pivot_table = df.pivot_table(index = 'category', values = 'value', aggfunc = 'mean')
</code></pre>
<p>Result:</p>
<pre><code class="language-plaintext">          value
category
A         150.0
B         350.0
</code></pre>
<h2 id="merge_dataframes">Merge DataFrames<a class="headerlink" href="#merge_dataframes" title="Permanent link">#</a></h2>
<p>Merging DataFrames is akin to performing SQL joins. Here’s an example of merging two DataFrames on a common column:</p>
<pre><code class="language-python"># Sample DataFrames
data1 = {'id': [1, 2, 3],
         'name': ['Alice', 'Bob', 'Charlie']}
df1 = pd.DataFrame(data1)
data2 = {'id': [1, 2, 4],
         'age': [25, 30, 35]}
df2 = pd.DataFrame(data2)

# Merging df1 and df2 on the 'id' column
merged_df = pd.merge(df1, df2, on = 'id')
</code></pre>
<p>Result:</p>
<pre><code class="language-plaintext">   id     name  age
0   1    Alice   25
1   2      Bob   30
</code></pre>
<h2 id="concatenate_dataframes">Concatenate DataFrames<a class="headerlink" href="#concatenate_dataframes" title="Permanent link">#</a></h2>
<p>Concatenating DataFrames is useful when you need to combine similar data from different sources. Here’s how to concatenate two DataFrames:</p>
<pre><code class="language-python"># Sample DataFrames
data3 = {'name': ['David', 'Ella'],
         'age': [28, 22]}
df3 = pd.DataFrame(data3)

# Concatenating df2 and df3
concatenated_df = pd.concat([df2, df3])
</code></pre>
<p>Result:</p>
<pre><code class="language-plaintext">   id   age   name
0  1.0   25    NaN
1  2.0   30    NaN
2  4.0   35    NaN
0  NaN   28  David
1  NaN   22   Ella
</code></pre>
<p>These techniques provide a robust framework for transforming data, allowing you to prepare and analyze your datasets more effectively.</p>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p><b>Essential Guide to Pandas</b> <br>Copyright &#169; 2024 <a href="https://github.com/imarranz">Ibon Martínez-Arranz</a><br></p>
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/imarranz/essential-guide-to-pandas/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="220_dealing_with_missing_data.html" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="050_data_visualization_integration.html" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme.js" defer></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
      <script src="search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
